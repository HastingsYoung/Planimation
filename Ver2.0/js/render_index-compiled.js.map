{"version":3,"sources":["render_index.js"],"names":[],"mappings":";;AAAA,IAAI,cAAe,SAAf,WAAe,GAAY;AAC3B,QAAM,QAAQ,IAAd;AACA,SAAK,SAAL,GAAiB,EAAjB;AACA,SAAK,iBAAL,GAAyB,YAAY;AACjC,YAAI,OAAO,IAAP,IAAe,OAAO,QAAtB,IAAkC,OAAO,UAA7C,EACI,OAAO,IAAP;AACJ,eAAO,KAAP;AACH,KAJD;AAKA;AACA,SAAK,WAAL,GAAmB,UAAU,KAAV,EAAiB;AAChC,YAAI,MAAM,iBAAN,EAAJ,EAA+B;AAC3B,gBAAI,OAAO,UAAP,IAAqB,OAAO,YAAhC,EAA8C;AAC1C,oBAAI,OAAO,MAAM,CAAN,CAAX;AACA,oBAAM,QAAQ,KAAK,IAAL,CAAU,KAAV,CAAgB,IAAhB,EAAsB,GAAtB,GAA4B,WAA5B,EAAd;AACA,oBAAI,SAAS,MAAT,IAAmB,SAAS,KAAhC,EAAuC;AACnC,0BAAM,mEAAN;AACA,2BAAO,KAAP;AACH;AACD,oBAAI,SAAS,IAAI,UAAJ,EAAb;AACA,uBAAO,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AACxC,0BAAM,SAAN,CAAgB,IAAhB,CAAqB,OAAO,MAA5B;AACH,iBAFD;AAGA,uBAAO,UAAP,CAAkB,IAAlB,EAAwB,OAAxB;AACA,uBAAO,IAAP;AACH;AACJ;AACD,cAAM,oFAAN;AACA,eAAO,KAAP;AACH,KAnBD;AAoBA,SAAK,aAAL,GAAqB,YAAY;AAC7B,eAAO,MAAM,SAAb;AACH,KAFD;AAGH,CAhCD;;AAkCA,CAAC,SAAS,IAAT,CAAc,CAAd,EAAiB;AACd,QAAI,KAAK,IAAI,WAAJ,EAAT;AACA,MAAE,aAAF,EAAiB,KAAjB,CAAuB,YAAY;AAC/B,UAAE,WAAF,EAAe,KAAf,CAAqB;AACjB,sBAAU,KADO;AAEjB,sBAAU,IAFO;AAGjB,oBAAQ,kBAAY;AAChB;AACA,6BAAa,UAAb,CAAwB,gBAAxB;AACA,kBAAE,iCAAF,EAAqC,QAArC,CAA8C,WAA9C;AACA,uBAAO,KAAP;AACH,aARgB;AASjB,uBAAW,qBAAY;AACnB;AACA,6BAAa,UAAb,CAAwB,gBAAxB;AACA,6BAAa,OAAb,CAAqB,gBAArB,EAAuC,KAAK,SAAL,CAAe,GAAG,aAAH,EAAf,CAAvC;AACA,oBAAI,QAAQ,aAAa,OAAb,CAAqB,gBAArB,CAAZ;AACA,wBAAQ,GAAR,CAAY,KAAZ;AACA,uBAAO,QAAP,CAAgB,IAAhB,GAAuB,eAAvB;AACH;AAhBgB,SAArB,EAiBG,KAjBH,CAiBS,MAjBT;AAkBH,KAnBD;AAoBA,MAAE,sBAAF,EAA0B,KAA1B,CAAgC,YAAY;AACxC,UAAE,WAAF,EAAe,KAAf,CAAqB,MAArB;AACH,KAFD;;AAIA;AACA,MAAE,YAAF,EAAgB,IAAhB,CAAqB,YAAY;AAC7B,YAAI,QAAQ,EAAE,IAAF,CAAZ;AACA,YAAI,QAAQ,MAAM,QAAN,CAAe,mBAAf,CAAZ;AACA,YAAI,SAAS,SAAS,aAAT,CAAuB,MAAM,MAAM,IAAN,CAAW,IAAX,CAA7B,CAAb;AACA,eAAO,gBAAP,CAAwB,QAAxB,EAAkC,YAAY;AAC1C,gBAAI,SAAS,GAAG,WAAH,CAAe,KAAK,KAApB,CAAb;AACA,gBAAI,UAAU,IAAd,EAAoB;AAChB,sBAAM,QAAN,CAAe,8BAAf,EAA+C,WAA/C,CAA2D,WAA3D;AACH;AACJ,SALD,EAKG,KALH;AAMH,KAVD;AAWH,CAtCD,EAsCG,MAtCH","file":"render_index-compiled.js","sourcesContent":["var FileDropper = (function () {\n    const _this = this;\n    this.container = [];\n    this.checkAvailability = function () {\n        if (window.File && window.FileList && window.FileReader)\n            return true;\n        return false;\n    };\n    // input one file per time\n    this.handleFiles = function (files) {\n        if (_this.checkAvailability()) {\n            if (window.FileReader && window.localStorage) {\n                var file = files[0];\n                const affix = file.name.split(/\\./).pop().toLowerCase();\n                if (affix != \"pddl\" && affix != \"txt\") {\n                    alert(\"Not supported file format, please upload '.pddl' or '.txt' files.\")\n                    return false;\n                }\n                var reader = new FileReader();\n                reader.addEventListener('load', function () {\n                    _this.container.push(reader.result);\n                });\n                reader.readAsText(file, 'UTF-8');\n                return true;\n            }\n        }\n        alert(\"File reading not supported by browser! Please check the browser security settings!\")\n        return false;\n    };\n    this.get_container = function () {\n        return _this.container;\n    };\n});\n\n(function init($) {\n    let fd = new FileDropper();\n    $(\".btn__start\").click(function () {\n        $(\".ui.modal\").modal({\n            closable: false,\n            inverted: true,\n            onDeny: function () {\n                // clear uploaded files\n                localStorage.removeItem('file_container');\n                $('.file_zone > .fa-check-circle-o').addClass('invisible');\n                return false;\n            },\n            onApprove: function () {\n                // retrieve file content\n                localStorage.removeItem('file_container');\n                localStorage.setItem('file_container', JSON.stringify(fd.get_container()));\n                var array = localStorage.getItem('file_container');\n                console.log(array);\n                window.location.href = './canvas.html';\n            }\n        }).modal('show');\n    });\n    $(\".modal > .btn__close\").click(function () {\n        $(\".ui.modal\").modal('hide');\n    });\n\n    // Add click event handler to button\n    $('.file_zone').each(function () {\n        var _this = $(this);\n        var input = _this.children(\"input:first-child\");\n        var _input = document.querySelector(\"#\" + input.attr(\"id\"));\n        _input.addEventListener(\"change\", function () {\n            var result = fd.handleFiles(this.files);\n            if (result == true) {\n                _this.children(\".fa-check-circle-o.invisible\").removeClass(\"invisible\");\n            }\n        }, false);\n    });\n})(jQuery);"]}